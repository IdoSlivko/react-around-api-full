{"version":3,"sources":["components/InfoTooltip.js","components/PopupWithForm.js","contexts/CurrentUserContext.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/auth.js","components/ProtectedRoute.js","components/Header.js","components/AuthPage.js","components/Register.js","components/Login.js","contexts/CurrentCardContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["InfoToolTip","props","className","isOpen","type","onClick","isReject","onClose","onRegisterClose","PopupWithForm","name","onSubmit","title","children","submitText","CurrentUserContext","React","createContext","EditProfilePopup","currentUser","useContext","useState","setName","description","setDescription","useEffect","about","evt","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","linkRef","useRef","current","onUpdateAvatar","avatarLink","ref","AddPlacePopup","setTitle","link","setLink","onAddPlace","ImagePopup","data","src","alt","BASE_URL","checkResponse","res","error1","error2","status","Error","ok","json","ProtectedRoute","loggedIn","to","Header","userEmail","userChangeState","linkRoute","linkText","AuthPage","emailValue","passwordValue","Register","email","password","values","setValues","onRegister","Login","onLogin","CurrentCardContext","Card","isOwn","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","onCardDelete","onCardClick","onCardLike","length","Main","cards","handleCardLike","card","handleCardDelete","onEditAvatarClick","avatar","onEditProfileClick","onAddPlaceClick","map","Footer","api","baseUrl","headers","this","_baseUrl","_headers","Promise","reject","statusText","token","fetch","then","_checkResponse","cardId","method","userName","userAbout","body","JSON","stringify","updatedToken","imageTitle","imageLink","App","setCurrentUser","setCards","selectedCard","setSelectedCard","localStorage","getItem","setUpdatedToken","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoToolTipActive","setIsInfoToolTipActive","isInfoToolTipReject","setIsInfoToolTipReject","isLoggedIn","setIsLoggedIn","history","useHistory","closeAllPopups","getServerImages","catch","error","console","log","auth","push","Provider","path","setItem","removeItem","changeLikeImageStatus","newCard","c","deleteImage","filter","setTimeout","setProfileImage","setProfileInfo","addNewImage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c00d435d.chunk.js","sourcesContent":["export default function InfoToolTip(props) {\n\n  return (\n    <section className={`popup ${props.isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container\">\n        <button className=\"popup__close-button\" type=\"button\" aria-label=\"close modal\" onClick={props.isReject ? props.onClose : props.onRegisterClose}></button>\n        <div className={`popup__alert-icon popup__alert-icon_${props.isOpen ? \"confirm\" : \"\"} popup__alert-icon_${props.isReject ? \"reject\" : \"\"}`}></div>\n        <h3 className=\"popup__title popup__title_tooltip\">{\n          props.isReject ? \"Oops, something went wrong! Please try again.\" : \"\" || props.isOpen ? \"Success! You have now been registered.\" : \"\"}\n        </h3>\n      </div>\n    </section>\n  );\n}\n","export default function PopupWithForm(props) {\n\n\treturn (\n\t\t<section className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n\t\t\t<div className=\"popup__container\">\n\t\t\t\t<form className={`popup__form popup__${props.name}-form`} name={props.name} onSubmit={props.onSubmit}>\n\t\t\t\t\t<button className={`popup__close-button popup__close-${props.name}`} type=\"button\" aria-label=\"close modal\" onClick={props.onClose}></button>\n\t\t\t\t\t<h3 className={`popup__title popup__${props.name}-title`}>{props.title}</h3>\n\t\t\t\t\t{props.children}\n\t\t\t\t\t<button className={`popup__submit popup__${props.name}-submit`} type=\"submit\">{props.submitText}</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</section>\n\t);\n}","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\n\nimport PopupWithForm from './PopupWithForm.js';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nexport default function EditProfilePopup(props) {\n\t\n\tconst currentUser = React.useContext(CurrentUserContext);\n\t\n\tconst [ name, setName ] = React.useState('');\n\tconst [ description, setDescription ] = React.useState('');\n\n\tReact.useEffect(() => {\n\t\tsetName(currentUser.name);\n\t\tsetDescription(currentUser.about);\n\t}, [currentUser, props.isOpen]);\n\n\tfunction handleNameChange(evt) {\n\t\tsetName(evt.target.value);\n\t}\n\n\tfunction handleDescriptionChange(evt) {\n\t\tsetDescription(evt.target.value);\n\t}\n\n\tfunction handleSubmit(evt) {\n\t\tevt.preventDefault();\n\t\tprops.onUpdateUser({\n\t\t\tname: name,\n\t\t\tabout: description\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\tname=\"profile\"\n\t\t\ttitle=\"Edit profile\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tsubmitText=\"Save\"\n\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t<input\n\t\t\t\tid=\"fullName-input\"\n\t\t\t\tclassName=\"popup__input popup__input_content_full-name\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"fullName\"\n\t\t\t\tplaceholder=\"Full name\"\n\t\t\t\tminLength=\"2\"\n\t\t\t\tmaxLength=\"40\"\n\t\t\t\tvalue={name || ''}\n\t\t\t\tonChange={handleNameChange}\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<span\n\t\t\t\tid=\"fullName-input-error\"\n\t\t\t\tclassName=\"popup__input-error-msg\"\n\t\t\t/>\n\t\t\t<input\n\t\t\t\tid=\"about-input\"\n\t\t\t\tclassName=\"popup__input popup__input_content_about\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"about\"\n\t\t\t\tplaceholder=\"About\"\n\t\t\t\tminLength=\"2\"\n\t\t\t\tmaxLength=\"200\"\n\t\t\t\tvalue={description || ''}\n\t\t\t\tonChange={handleDescriptionChange}\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<span\n\t\t\t\tid=\"about-input-error\"\n\t\t\t\tclassName=\"popup__input-error-msg\"\n\t\t\t/>\n\t\t</PopupWithForm>\n\t)\n}","import React from 'react';\n\nimport PopupWithForm from './PopupWithForm.js';\n\nexport default function EditAvatarPopup(props) {\n\n\tconst linkRef = React.useRef();\n\n\tReact.useEffect(() => {\n\t\tlinkRef.current.value = '';\n\t}, [props.isOpen]);\n\n\tfunction handleSubmit(evt) {\n\t\tevt.preventDefault();\n\t\tprops.onUpdateAvatar({ avatarLink: linkRef.current.value });\n\t}\n\n\treturn(\n\t\t<PopupWithForm\n\t\t\tname=\"edit-profile-image\"\n\t\t\ttitle=\"Change profile picture\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tsubmitText=\"Save\"\n\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t<input\n\t\t\t\tid=\"avatarLink-input\"\n\t\t\t\tclassName=\"popup__input popup__input_content_edit-profile-image-link\"\n\t\t\t\ttype=\"url\"\n\t\t\t\tname=\"avatarLink\"\n\t\t\t\tplaceholder=\"Image link\"\n\t\t\t\tref={linkRef}\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<span\n\t\t\t\tid=\"avatarLink-input-error\"\n\t\t\t\tclassName=\"popup__input-error-msg\"\n\t\t\t/>\n\t\t</PopupWithForm>\n\t)\n}\n","import React from 'react';\n\nimport PopupWithForm from './PopupWithForm.js';\n\nexport default function AddPlacePopup(props) {\n\n\tconst [ title, setTitle ] = React.useState('');\n\tconst [ link, setLink ] = React.useState('');\n\n\tReact.useEffect(() => {\n\t\tsetTitle('');\n\t\tsetLink('');\n\t}, [props.isOpen]);\n\n\tfunction handleTitleChange(evt) {\n\t\tsetTitle(evt.target.value);\n\t}\n\t\n\tfunction handleLinkChange(evt) {\n\t\tsetLink(evt.target.value);\n\t}\n\n\tfunction handleSubmit(evt) {\n\t\tevt.preventDefault();\n\t\tprops.onAddPlace({\n\t\t\ttitle: title,\n\t\t\tlink: link\n\t\t});\n\t}\n\n\treturn(\n\t\t<PopupWithForm\n\t\t\tname=\"add-image\"\n\t\t\ttitle=\"New place\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tsubmitText=\"Create\"\n\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t<input\n\t\t\t\tid=\"imgTitle-input\"\n\t\t\t\tclassName=\"popup__input popup__input_content_add-image-title\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"imageTitle\"\n\t\t\t\tplaceholder=\"Title\"\n\t\t\t\tminLength=\"1\"\n\t\t\t\tmaxLength=\"30\"\n\t\t\t\tvalue={title}\n\t\t\t\tonChange={handleTitleChange}\n\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t<span\n\t\t\t\tid=\"imgTitle-input-error\"\n\t\t\t\tclassName=\"popup__input-error-msg\"\n\t\t\t\t/>\n\t\t\t<input\n\t\t\t\tid=\"imgLink-input\"\n\t\t\t\tclassName=\"popup__input popup__input_content_add-image-link\"\n\t\t\t\ttype=\"url\"\n\t\t\t\tname=\"imageLink\"\n\t\t\t\tplaceholder=\"Image link\"\n\t\t\t\tvalue={link}\n\t\t\t\tonChange={handleLinkChange}\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<span\n\t\t\t\tid=\"imgLink-input-error\"\n\t\t\t\tclassName=\"popup__input-error-msg\"\n\t\t\t/>\n\t\t</PopupWithForm>\n\t)\n}\n","export default function ImagePopup(props) {\n\n\treturn (\t\n\t\t<section className={`popup popup_large-image ${props.data.name ? 'popup_opened' : ''}`}>\n\t\t\t<figure className=\"popup__container-large-image\">\n\t\t\t\t<button className=\"popup__close-button popup__close-large-image\" aria-label=\"close image\" onClick={props.onClose} />\n\t\t\t\t<img className=\"popup__image\" src={props.data.link} alt=\"some text\" />\n\t\t\t\t<figcaption className=\"popup__caption\">{props.data.name}</figcaption>\n\t\t\t</figure>\n\t\t</section>\n\t);\n}","const BASE_URL = 'https://api.idoslivko.students.nomoreparties.sbs';\n\nconst invalidField = 'one or more of the fields were not provided';\nconst userNotFound = 'the user with the specified email not found';\nconst missingToken = 'Token not provided or provided in the wrong format';\nconst invalidToken = 'The provided token is invalid';\nconst registerReject = 'one of the fields was filled in incorrectly';\nconst conflict = 'User already exists';\n\nfunction checkResponse(res, error1, error2) {\n\tif (res.status === 400) { throw new Error(`400 - ${error1}`); }\n\telse if (res.status === 401) { throw new Error(`401 - ${error2}`); }\n\telse if (res.status === 409) { throw new Error(`409 - ${error2}`); }\n\telse if (!res.ok) { throw new Error(`400 - ${error1}`); }\n\telse { return res.json(); }\n}\n\nexport function register({ email, password }) {\n\treturn fetch(`${BASE_URL}/signup`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({ email, password })\n\t})\n\t.then(res => checkResponse(res, registerReject, conflict))\n}\n\nexport function authorize({ email, password }) {\n\treturn fetch(`${BASE_URL}/signin`, {\n\t\tmethod: 'POST',\n    headers: {\n\t\t\t'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n\t.then(res => checkResponse(res, invalidField, userNotFound))\n}\n\nexport function checkToken(token) {\n  return fetch(`${BASE_URL}/users/me`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t'Authorization': `Bearer ${token}`\n\t\t}\n\t})\n\t.then(res => checkResponse(res, missingToken, invalidToken))\n}\n","import { Route, Redirect } from 'react-router-dom';\n\nexport default function ProtectedRoute({ children, loggedIn, ...props }) {\n  return (\n    <Route {...props}>\n      { loggedIn ? children : <Redirect to='/signin' /> }\n    </Route>\n  );\n}\n","import { Link } from 'react-router-dom';\n\nexport default function Header(props) {\n\treturn (\n\t\t<header className=\"header\">\n\t\t\t<div className=\"logo\" />\n\t\t\t<div className=\"header__container\">\n\t\t\t\t<div className=\"header__user-email\">{props.userEmail}</div>\n\t\t\t\t<Link\tclassName={`link link_${props.userChangeState}`} to={props.linkRoute} onClick={props.onClick}>{props.linkText}</ Link>\n\t\t\t</div>\n\t\t</header>\n\t);\n}","import { Link } from 'react-router-dom';\n\nexport default function AuthPage(props) {\n\n\treturn (\n\t\t<section className=\"auth-page\">\n\t\t\t<h1 className=\"auth-page__title\">{props.title}</h1>\n\t\t\t<form className=\"auth-page__form\" name={props.name} onSubmit={props.onSubmit}>\n\t\t\t\t<input className=\"auth-page__input\" name=\"email\" type=\"email\" placeholder=\"Email\" value={props.emailValue} onChange={props.onChange} required />\n\t\t\t\t<input className=\"auth-page__input\" name=\"password\" type=\"password\" placeholder=\"Password\" value={props.passwordValue} onChange={props.onChange} minLength=\"3\" required />\n\t\t\t\t<button className=\"auth-page__submit\" type=\"submit\">{props.submitText}</button>\n\t\t\t</form>\n\t\t\t<Link className=\"link\" to={props.linkRoute}>{props.linkText}</Link>\n\t\t</section>\n\t);\n}\n","import React from 'react';\nimport Header from './Header.js';\nimport AuthPage from './AuthPage.js';\n\nexport default function Register(props) {\n\tconst [ values, setValues ] = React.useState({\n    email: '',\n    password: ''\n  });\n\n  function handleChange(evt) {\n\t\tconst { name, value } = evt.target;\n    setValues({ ...values, [name]: value });\n  }\n\t\n\tfunction handleSubmit(evt) {\n\t\tevt.preventDefault();\n\t\tprops.onRegister(values);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Header \n\t\t\t\tlinkText=\"Log in\"\n\t\t\t\tlinkRoute=\"/signin\"\n\t\t\t\tuserChangeState=\"login\"\n\t\t\t/>\t\t\n\n\t\t\t<AuthPage\n\t\t\t\ttitle=\"Sign up\"\n\t\t\t\tname=\"register-form\"\n\t\t\t\tsubmitText=\"Sign up\"\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\temailValue={values.email}\n\t\t\t\tpasswordValue={values.password}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tlinkText=\"Already a member? Log in here!\"\n\t\t\t\tlinkRoute=\"/signin\"\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import React from 'react';\nimport Header from './Header.js';\nimport AuthPage from './AuthPage.js';\n\nexport default function Login(props) {\n  const [values, setValues] = React.useState({\n    email: '',\n    password: ''\n  });\n\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setValues({ ...values, [name]: value });\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    if (!values.email || !values.password) {\n      return;\n    }\n    setValues(values);\n    props.onLogin(values);\n  }\n\n  return (\n    <>\n      <Header\n        linkText=\"Sign up\"\n        linkRoute=\"/signup\"\n        userChangeState=\"login\"\n      />\n\n      <AuthPage\n        title=\"Log in\"\n        name=\"login-form\"\n        submitText=\"Log in\"\n        onSubmit={handleSubmit}\n        emailValue={values.email}\n        passwordValue={values.password}\n        onChange={handleChange}\n        linkText=\"Not a member yet? Sign up here!\"\n        linkRoute=\"/signup\"\n      />\n    </>\n  );\n}\n","import React from 'react';\n\nexport const CurrentCardContext = React.createContext();","import React from 'react';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nexport default function Card(props) {\n\n\tconst currentUser = React.useContext(CurrentUserContext);\n\tconst isOwn = props.data.owner._id === currentUser._id || props.data.owner === currentUser._id;\n\n\tconst isLiked = props.data.likes.some((item) => item === currentUser._id);\n\n\tconst cardDeleteButtonClassName = (\n  \t`elements__delete-button ${isOwn ? 'elements__delete-button_active' : ''}`\n\t);\n\tconst cardLikeButtonClassName = (\n\t\t`elements__like-button ${isLiked ? 'elements__like-button_active' : ''}`\n\t);\n\t\n\tfunction handleClick() {\n\t\tprops.onCardClick(props.data);\n\t}\n\n\tfunction handleDeleteClick() {\n\t\tprops.onCardDelete(props.data);\n\t}\n\n\tfunction handleLikeClick() {\n\t\tprops.onCardLike(props.data);\n\t}\n\n\treturn (\n\t\t<article className=\"elements__item\">\n\t\t\t<button className={cardDeleteButtonClassName} type=\"button\" title=\"Delete image\" aria-label=\"delete image\" onClick={handleDeleteClick} />\n\t\t\t<img className=\"elements__image\" src={props.data.link} alt={props.data.name} onClick={handleClick} />\n\t\t\t<div className=\"elements__description\">\n\t\t\t\t<h3 className=\"elements__title\">{props.data.name}</h3>\n\t\t\t\t<div className=\"elements__like-section\">\n\t\t\t\t\t<button className={cardLikeButtonClassName} type=\"button\" aria-label=\"like button\" onClick={handleLikeClick} />\n\t\t\t\t\t<div className=\"elements__like-counter\">{props.data.likes.length}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</article>\n\t);\n}\n","import React from 'react';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { CurrentCardContext } from '../contexts/CurrentCardContext.js';\n\nimport Card from './Card.js';\n\nexport default function Main(props) {\n\n\tconst currentUser = React.useContext(CurrentUserContext);\n\tconst cards = React.useContext(CurrentCardContext);\n\n\tfunction handleCardLike(card) {\n\t\tprops.onCardLike(card);\n\t}\n\n\tfunction handleCardDelete(card) {\n\t\tprops.onCardDelete(card);\n\t}\n\n\treturn (\n\t\t<main className=\"content\">\n\n\t\t\t<section className=\"profile\">\n\t\t\t\t<div className=\"profile__info\">\n\t\t\t\t\t<button className=\"profile__edit-image\" title=\"Edit profile image\" onClick={props.onEditAvatarClick} />\n\t\t\t\t\t<div className=\"profile__image-container\">\n\t\t\t\t\t\t<img className=\"profile__image\" alt=\"User profile pic\" src={currentUser.avatar} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"profile__main-text\">\n\t\t\t\t\t\t<div className=\"profile__text\">\n\t\t\t\t\t\t\t<h1 className=\"profile__name\">{currentUser.name}</h1>\n\t\t\t\t\t\t\t<button className=\"profile__edit-profile\" title=\"Edit profile\" aria-label=\"edit profile\" onClick={props.onEditProfileClick} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"profile__occupation\">{currentUser.about}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button className=\"profile__add-photo\" title=\"Add photo\" aria-label=\"add photo\" onClick={props.onAddPlaceClick} />\n\t\t\t</section>\n\n\t\t\t<section className=\"elements\">\n\t\t\t\t{cards.map((card) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\t\tdata={card}\n\t\t\t\t\t\t\t\tkey={card._id}\n\t\t\t\t\t\t\t\tonCardClick={props.onCardClick}\n\t\t\t\t\t\t\t\tonCardLike={handleCardLike}\n\t\t\t\t\t\t\t\tonCardDelete={handleCardDelete}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t);})}\n\t\t\t</section>\n\n\t\t</main>\n\t);\n}\n","export default function Footer() {\n\treturn (\n\t\t<footer className=\"footer\">\n\t\t\t<p className=\"footer__copyright\">&copy; 2021 Around The U.S.</p>\n\t\t</footer>\n\t);\n}","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.statusText);\n    }\n  }\n\n  getServerImages(token) {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n    })\n    .then((res) => this._checkResponse(res))\n  }\n\n  changeLikeImageStatus(cardId, isLiked, token) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        method: \"PUT\",\n      })\n      .then((res) => this._checkResponse(res));\n    } else {\n      return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        method: \"DELETE\",\n      })\n      .then((res) => this._checkResponse(res));\n    }\n  }\n\n  setProfileInfo(userName, userAbout, token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name: userName,\n        about: userAbout\n      }),\n    })\n    .then((res) => this._checkResponse(res))\n  }\n\n  setProfileImage(link, updatedToken) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${updatedToken}`\n      },\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar: link\n      }),\n    })\n    .then((res) => this._checkResponse(res))\n  }\n\n  addNewImage(imageTitle, imageLink, token) {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      method: \"POST\",\n      body: JSON.stringify({\n        name: imageTitle,\n        link: imageLink\n      }),\n    })\n    .then((res) => this._checkResponse(res))\n  }\n\n  deleteImage(cardId, token) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      method: \"DELETE\",\n    })\n    .then((res) => this._checkResponse(res))\n  }\n}\n\n\nconst api = new Api({\n  baseUrl: \"https://api.idoslivko.students.nomoreparties.sbs\",\n});\n\nexport default api;\n","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\n\nimport InfoToolTip from './InfoTooltip.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ImagePopup from './ImagePopup.js';\n\nimport * as auth from '../utils/auth.js';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport Register from './Register.js';\nimport Login from './Login.js';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\n\nimport api from '../utils/api.js';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { CurrentCardContext } from '../contexts/CurrentCardContext.js';\n\nexport default function App() {\n  \n  const [ currentUser, setCurrentUser ] = React.useState({});\n  const [ cards, setCards ] = React.useState([]);\n  const [ selectedCard, setSelectedCard ] = React.useState({ name: '' , link: '' });\n\n  const [ updatedToken, setUpdatedToken ] = React.useState(localStorage.getItem('token'));\n  \n  const [ isEditAvatarPopupOpen, setIsEditAvatarPopupOpen ] = React.useState(false);\n  const [ isEditProfilePopupOpen, setIsEditProfilePopupOpen ] = React.useState(false);\n  const [ isAddPlacePopupOpen, setIsAddPlacePopupOpen ] = React.useState(false);\n  const [ isInfoToolTipActive, setIsInfoToolTipActive ] = React.useState(false);\n  const [ isInfoToolTipReject, setIsInfoToolTipReject] = React.useState(false);\n  const [ isLoggedIn, setIsLoggedIn ] = React.useState(false);\n\n  const history = useHistory();\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  \n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  \n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  \n  function handleCardClick(data) {\n    setSelectedCard({\n      name: data.name,\n      link: data.link,\n      likes: data.likes.length\n    });\n  }\n  \n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({ name: '' , link: '' });\n    setIsInfoToolTipActive(false);\n    setIsInfoToolTipReject(false);\n  }\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    api.getServerImages(token)\n    .then((res) => {\n      setCards(res.data);\n    })\n    .catch((error) => console.log('Error from getServerImages:', error));\n  }, []);\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n        auth.checkToken(token)\n        .then((res) => {\n        setIsLoggedIn(true);\n        setCurrentUser(res.owner);\n\t\t\t\thistory.push('/users/me');\n      })\n      .catch(error => console.log(error));\n    }\n  }, [history]);\n  \n  function handleUpdateUser({ name, about }) {\n    api.setProfileInfo(name, about, updatedToken)\n    .then((res) => {\n      setCurrentUser(res.owner);\n      closeAllPopups();\n    })\n    .catch((error) => console.log('Error from setProfileInfo:', error));\n  }\n\n  function handleUpdateAvatar({ avatarLink }) {\n    api.setProfileImage(avatarLink, updatedToken)\n    .then((res) => {\n      setCurrentUser(res.owner);\n      closeAllPopups();\n    })\n    .catch((error) => console.log('Error from setProfileImage:', error));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((item) => item === currentUser._id);\n    \n    api.changeLikeImageStatus(card._id, !isLiked, updatedToken)\n    .then((newCard) => {\n      setCards(cards => cards.map((c) => (c._id === card._id ? newCard.data : c)));\n    })\n    .catch((error) => console.log('Error from changeLikeImageStatus:', error));\n  }\n\n  function handleCardDelete(card) {\n\t\tapi.deleteImage(card._id, updatedToken)\n\t\t.then((res) => {\n\t\t\tconsole.log('but most of all Samy is my hero...');\n\t\t\tsetCards(cards.filter((item) => item._id !== card._id));\n    })\n\t\t.catch((error) => console.log('Error from deleteImage:', error));\n\t}\n\n  function handleAddPlace({ title, link }) {\n    api.addNewImage(title, link, updatedToken)\n\t\t.then((newCard) => {\n      setCards([newCard.data, ...cards]);\n      closeAllPopups();\n    })\n\t\t.catch((error) => console.log('Error from addNewImage:', error));\n  }\n\n  function handleRegister(values) {\n    auth.register(values)\n\t\t.then((data) => {\n      setIsInfoToolTipActive(true);\n    })\n\t\t.catch((error) => {\n      setIsInfoToolTipActive(true);\n      setIsInfoToolTipReject(true);\n\t\t\tconsole.log(error);\n\t\t});\n  }\n  \n  function handleLogin(values) {\n    auth.authorize(values)\n    .then((res) => {\n      if (res.token) {\n        localStorage.setItem('token', res.token);\n        setUpdatedToken(localStorage.getItem('token'));\n        setIsLoggedIn(true);\n        setCurrentUser(res.owner);\n        \n        api.getServerImages(localStorage.getItem('token'))\n        .then((res) => {\n          setCards(res.data);\n        })\n        .catch((error) => console.log('Error from getServerImages:', error));\n        \n        history.push('/users/me');\n        return res;\n      }\n    })\n\t\t.catch((error) => {\n      setIsInfoToolTipActive(true);\n      setIsInfoToolTipReject(true);\n\t\t\tconsole.log(error);\n\t\t});\n\t};\n  \n  function closeRegisterToolTip() {\n    setIsInfoToolTipActive(false);\n    setTimeout(() => {\n      history.push('/signin');\n    }, 50);\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('token');\n    setCurrentUser({});\n    history.push('/login');\n  }\n  \n  return (\n    <div className='page'>\n\n      <CurrentUserContext.Provider value={currentUser}>\n      <CurrentCardContext.Provider value={cards}>\n\n      <Switch>\n\n        <Route path='/signup'>\n          <Register onRegister={handleRegister} />\n        </Route>\n\n        <Route path='/signin'>\n          <Login onLogin={handleLogin} />\n        </Route>\n\n        <ProtectedRoute path='/users/me' loggedIn={isLoggedIn}>\n          <Header\n            userEmail={currentUser.email}\n            linkText=\"Log out\"\n            linkRoute=\"/signin\"\n            userChangeState=\"logout\"\n            onClick={handleSignOut}\n          />\n          <Main \n            onEditAvatarClick={handleEditAvatarClick}\n            onEditProfileClick={handleEditProfileClick}\n            onAddPlaceClick={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer />\n        </ProtectedRoute>\n\n        <Route path='/'>\n          { isLoggedIn ? <Redirect to='/users/me' /> : <Redirect to='/signin' /> }\n        </Route>\n\n      </Switch>\n\n      <InfoToolTip\n        isOpen={isInfoToolTipActive}\n        isReject={isInfoToolTipReject}\n        onClose={closeAllPopups}\n        onRegisterClose={closeRegisterToolTip}\n      />\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen} \n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlace}\n      />\n\n      <ImagePopup\n        data={selectedCard}\n        onClose={closeAllPopups}\n      />\n\n      </CurrentCardContext.Provider>\n      </CurrentUserContext.Provider>\n\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from '../src/components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}